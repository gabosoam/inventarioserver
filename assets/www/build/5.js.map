{"version":3,"sources":["../../src/pages/settings/settings.module.ts","../../src/pages/settings/settings.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\nimport { SettingsPage } from './settings';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SettingsPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(SettingsPage),\r\n    TranslateModule.forChild()\r\n  ],\r\n  exports: [\r\n    SettingsPage\r\n  ]\r\n})\r\nexport class SettingsPageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.module.ts","import { Component } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { IonicPage, NavController, NavParams, ModalController, AlertController } from 'ionic-angular';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Items } from '../../providers/providers';\r\n\r\nimport { Settings } from '../../providers/providers';\r\n\r\n/**\r\n * The Settings page is a simple form that syncs with a Settings provider\r\n * to enable the user to customize settings for the app.\r\n *\r\n */\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-settings',\r\n  templateUrl: 'settings.html'\r\n})\r\nexport class SettingsPage {\r\n  // Our local settings object\r\n  options: any;\r\n  cbxProducto: any;\r\n  cbxCodigo: any;\r\n  settingsReady = false;\r\n\r\n  form: FormGroup;\r\n  formCodigo: FormGroup;\r\n\r\n  productos: any;\r\n\r\n  buscador: String;\r\n\r\n\r\n  profileSettings = {\r\n    page: 'profile',\r\n    pageTitleKey: 'SETTINGS_PAGE_PROFILE'\r\n  };\r\n\r\n  page: string = 'main';\r\n  pageTitleKey: string = 'SETTINGS_TITLE';\r\n  pageTitle: string;\r\n\r\n  subSettings: any = SettingsPage;\r\n\r\n  constructor(public navCtrl: NavController,\r\n    public settings: Settings,\r\n    public formBuilder: FormBuilder,\r\n    public navParams: NavParams,\r\n    public translate: TranslateService,\r\n    public alertCtrl: AlertController,\r\n\r\n    public modalCtrl: ModalController,\r\n    public items: Items) {\r\n\r\n    this.form = formBuilder.group({\r\n      name: ['', Validators.required]\r\n    });\r\n\r\n    this.formCodigo = formBuilder.group({\r\n      name: ['', Validators.required]\r\n    });\r\n\r\n  }\r\n\r\n  saludar() {\r\n    this.buscador = \"nombre\";\r\n    let seq = this.items.buscarProductoNombre(this.form.value.name);\r\n    seq.subscribe((res: any) => {\r\n\r\n      console.log(res);\r\n      this.productos = res;\r\n    }, err => {\r\n      console.error('ERROR', err);\r\n    });\r\n\r\n  }\r\n\r\n  buscarNombre(nombre) {\r\n    this.buscador = \"nombre\";\r\n    let seq = this.items.buscarProductoNombre(nombre);\r\n    seq.subscribe((res: any) => {\r\n\r\n      console.log(res);\r\n      this.productos = res;\r\n    }, err => {\r\n      console.error('ERROR', err);\r\n    });\r\n\r\n  }\r\n\r\n  buscarCodigo() {\r\n    this.buscador = \"codigo\";\r\n    let seq = this.items.buscarProductoCodigo(this.formCodigo.value.name);\r\n    seq.subscribe((res: any) => {\r\n      console.log('asdasdsa')\r\n      console.log(res);\r\n      this.productos = res;\r\n    }, err => {\r\n      console.error('ERROR', err);\r\n    });\r\n\r\n  }\r\n\r\n  buscarCodigo2(codigo) {\r\n    let seq = this.items.buscarProductoCodigo(codigo);\r\n    seq.subscribe((res: any) => {\r\n      console.log('asdasdsa')\r\n      console.log(res);\r\n      this.productos = res;\r\n    }, err => {\r\n      console.error('ERROR', err);\r\n    });\r\n\r\n  }\r\n\r\n  modificarItem(producto) {\r\n\r\n\r\n    //  let addModal = this.modalCtrl.create('ItemCreatePage');\r\n    let addModal = this.modalCtrl.create('ItemCreatePage', { producto: producto });\r\n    addModal.onDidDismiss(producto => {\r\n      if (producto) {\r\n        let seq = this.items.modificarProducto(producto.id, producto);\r\n\r\n        seq.subscribe(res => {\r\n\r\n          if (this.buscador == \"nombre\") {\r\n            this.saludar();\r\n          } else if (this.buscador == \"codigo\") {\r\n            this.buscarCodigo();\r\n          }\r\n        })\r\n      }\r\n    })\r\n    addModal.present();\r\n  }\r\n\r\n  listarPrecios(producto) {\r\n    //  let addModal = this.modalCtrl.create('ItemCreatePage');\r\n    let addModal = this.modalCtrl.create('PrecioPage', { producto: producto });\r\n    addModal.onDidDismiss(producto => {\r\n      if (producto) {\r\n        let seq = this.items.modificarProducto(producto.id, producto);\r\n\r\n        seq.subscribe(res => {\r\n\r\n          if (this.buscador == \"nombre\") {\r\n            this.saludar();\r\n          } else if (this.buscador == \"codigo\") {\r\n            this.buscarCodigo();\r\n          }\r\n        })\r\n      }\r\n    })\r\n    addModal.present();\r\n  }\r\n\r\n  agregarStock(producto) {\r\n    //  let addModal = this.modalCtrl.create('ItemCreatePage');\r\n    let addModal = this.modalCtrl.create('StockPage', { producto: producto });\r\n    addModal.onDidDismiss(data => {\r\n      if (data) {\r\n        let seq = this.items.modificarStock(data.id, data.stock);\r\n\r\n        seq.subscribe(res => {\r\n          if (this.buscador == \"nombre\") {\r\n            this.saludar();\r\n          } else if (this.buscador == \"codigo\") {\r\n            this.buscarCodigo();\r\n          }\r\n        })\r\n\r\n      }\r\n    })\r\n    addModal.present();\r\n    // let prompt = this.alertCtrl.create({\r\n    //   title: producto.nombre,\r\n    //   message: \"Ingresa la cantidad \",\r\n    //   inputs: [\r\n    //     {\r\n    //       name: 'stock',\r\n    //       placeholder: 'Stock',\r\n    //       type: 'number',\r\n    //       min: 0\r\n    //     },\r\n    //     {\r\n    //       name: 'id',\r\n    //       value: producto.id,\r\n    //       type: 'hidden',\r\n\r\n    //       min: 0\r\n    //     },\r\n    //   ],\r\n    //   buttons: [\r\n    //     {\r\n    //       text: 'Cancelar',\r\n    //       handler: data => {\r\n\r\n    //       }\r\n    //     },\r\n    //     {\r\n    //       text: 'Guardar',\r\n    //       handler: data => {\r\n    //         let seq = this.items.modificarStock(data.id, data.stock);\r\n\r\n    //         seq.subscribe(res=>{\r\n    //           if (this.buscador == \"nombre\") {\r\n    //             this.saludar();\r\n    //           } else if (this.buscador == \"codigo\") {\r\n    //             this.buscarCodigo();\r\n    //           }\r\n    //         })\r\n    //       }\r\n    //     }\r\n    //   ]\r\n    // });\r\n    // prompt.present();\r\n\r\n  }\r\n\r\n  desactivarItem(producto) {\r\n    let confirm = this.alertCtrl.create({\r\n      title: 'Eliminar este producto?',\r\n      message: 'Está seguro que desea continuar?',\r\n      buttons: [\r\n        {\r\n          text: 'Cancelar',\r\n          handler: () => {\r\n            console.log('Disagree clicked');\r\n          }\r\n        },\r\n        {\r\n          text: 'Aceptar',\r\n          handler: () => {\r\n            if (producto) {\r\n              let seq = this.items.modificarProducto(producto.id, { estado: 0 });\r\n\r\n              seq.subscribe(res => {\r\n                if (this.buscador == \"nombre\") {\r\n                  this.saludar();\r\n                } else if (this.buscador == \"codigo\") {\r\n                  this.buscarCodigo();\r\n                }\r\n\r\n\r\n\r\n              })\r\n            }\r\n\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    confirm.present();\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts"],"sourceRoot":""}